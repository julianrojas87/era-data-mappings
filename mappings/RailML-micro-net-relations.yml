prefixes:
  idlab-fn: "http://example.com/idlab/function/"
  grel: "http://users.ugent.be/~bjdmeest/function/grel.ttl#"
  rdfs: "http://www.w3.org/2000/01/rdf-schema#"
  era: "http://era.europa.eu/ns#"
  xsd: "http://www.w3.org/2001/XMLSchema#"
  era-nv: "http://era.europa.eu/concepts/navigabilities#"
  era-pos: "http://era.europa.eu/concepts/relation-positions#"

mappings:

  # ------------Define Micro <netRelation>s--------------
  
  ARB-micro-net-relations:
    source:
      - [data/norway-railml/ARB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  BB-micro-net-relations:
    source:
      - [data/norway-railml/BB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  BRB-micro-net-relations:
    source:
      - [data/norway-railml/BRB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DB1-micro-net-relations:
    source:
      - [data/norway-railml/DB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DB2-micro-net-relations:
    source:
      - [data/norway-railml/DB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DOB1-micro-net-relations:
    source:
      - [data/norway-railml/DOB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DOB2-micro-net-relations:
    source:
      - [data/norway-railml/DOB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DOB3-micro-net-relations:
    source:
      - [data/norway-railml/DOB3.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  DOB4-micro-net-relations:
    source:
      - [data/norway-railml/DOB4.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  FLB-micro-net-relations:
    source:
      - [data/norway-railml/FLB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]
  
  GB-micro-net-relations:
    source:
      - [data/norway-railml/GB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  GMB1-micro-net-relations:
    source:
      - [data/norway-railml/GMB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  GMB2-micro-net-relations:
    source:
      - [data/norway-railml/GMB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  GMB3-micro-net-relations:
    source:
      - [data/norway-railml/GMB3.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  GMB4-micro-net-relations:
    source:
      - [data/norway-railml/GMB4.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  HB1-micro-net-relations:
    source:
      - [data/norway-railml/HB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  HB2-micro-net-relations:
    source:
      - [data/norway-railml/HB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  KB1-micro-net-relations:
    source:
      - [data/norway-railml/KB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  KB2-micro-net-relations:
    source:
      - [data/norway-railml/KB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  MB-micro-net-relations:
    source:
      - [data/norway-railml/MB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]
  
  NB1-micro-net-relations:
    source:
      - [data/norway-railml/NB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  NB2-micro-net-relations:
    source:
      - [data/norway-railml/NB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OB-micro-net-relations:
    source:
      - [data/norway-railml/OB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OEB1-micro-net-relations:
    source:
      - [data/norway-railml/OEB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OEB2-micro-net-relations:
    source:
      - [data/norway-railml/OEB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OEB3-micro-net-relations:
    source:
      - [data/norway-railml/OEB3.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OEOEB-micro-net-relations:
    source:
      - [data/norway-railml/OEOEB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  OSL-micro-net-relations:
    source:
      - [data/norway-railml/OSL.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  RAB-micro-net-relations:
    source:
      - [data/norway-railml/RAB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  RB-micro-net-relations:
    source:
      - [data/norway-railml/RB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  RHB-micro-net-relations:
    source:
      - [data/norway-railml/RHB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  RUB-micro-net-relations:
    source:
      - [data/norway-railml/RUB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  SB1-micro-net-relations:
    source:
      - [data/norway-railml/SB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  SB2-micro-net-relations:
    source:
      - [data/norway-railml/SB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  SB3-micro-net-relations:
    source:
      - [data/norway-railml/SB3.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  SOB-micro-net-relations:
    source:
      - [data/norway-railml/SOB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  SPB-micro-net-relations:
    source:
      - [data/norway-railml/SPB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  TIB-micro-net-relations:
    source:
      - [data/norway-railml/TIB.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  VB1-micro-net-relations:
    source:
      - [data/norway-railml/VB1.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]

  VB2-micro-net-relations:
    source:
      - [data/norway-railml/VB2.railml~xpath, "//netRelation[@navigability]"]
    s:
      function: grel:array_join
      parameters:
        - [grel:p_array_a, "http://era.europa.eu/topology/netRelations#"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementA/@ref)"]
        - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
        - [grel:p_array_a, "$(elementB/@ref)"]
    po:
      - [a, era:NetRelation]
      - [era:navigability, era-nv:$(@navigability)~iri]
      - p: era:elementA
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementA/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementA/@ref)"]
          type: iri
      - p: era:elementB
        o:
          function: grel:array_join
          parameters:
            - [grel:p_array_a, "http://era.europa.eu/topology/netElements#"]
            - [grel:p_array_a, "$((ancestor::topology//elementCollectionUnordered/elementPart[@ref=current(\\)/elementB/@ref]\\)/../../name/@name)"]
            - [grel:p_array_a, "$(elementB/@ref)"]
          type: iri
      - p: era:positionOnA
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnA
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnA)]
            - [grel:valueParameter2, "1"]
      - p: era:positionOnB
        o: era-pos:Start~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "0"]
      - p: era:positionOnB
        o: era-pos:End~iri
        condition:
          function: idlab-fn:equal
          parameters:
            - [grel:valueParameter, $(@positionOnB)]
            - [grel:valueParameter2, "1"]